<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta content="text/html; charset=<?php echo $cfg_soft_lang; ?>" http-equiv="Content-Type">
    <title>主页更新向导</title>
    <link href="css/base.css" rel="stylesheet" type="text/css">
    <link href="../include/calendar/calendar-win2k-1.css" media="all" rel="stylesheet" title="win2k-1" type="text/css"/>
    <script src="../include/calendar/calendar.js" type="text/javascript"></script>
    <script src="../include/calendar/calendar-cn.js" type="text/javascript"></script>
    <script language="javascript">
        function SelectTemplets(fname) {
            if (document.all) {
                var posLeft = window.event.clientY - 100;
                var posTop = window.event.clientX - 400;
            } else {
                var posLeft = 100;
                var posTop = 100;
            }
            window.open("../include/select_templets.php?f=" + fname, "poptempWin", "scrollbars=yes,resizable=yes,statebar=no,width=600,height=400,left=" + posLeft + ", top=" + posTop);
        }
    </script>
    <link href="css/codemirror.css" rel="stylesheet" type="text/css">
    <script src="js/codemirror.js" type="text/javascript"></script>
    <script src="js/mode/xml/xml.js" type="text/javascript"></script>
    <script src="js/mode/javascript/javascript.js" type="text/javascript"></script>
    <script src="js/mode/css/css.js" type="text/javascript"></script>
    <script src="js/mode/htmlmixed/htmlmixed.js" type="text/javascript"></script>
</head>
<body background='images/allbg.gif' leftmargin='8' topmargin='8'>
<table align="center" bgcolor="#cfcfcf" border="0" cellpadding="3" cellspacing="1" width="98%">
    <form action="tag_test_action.php" method="post" name="form1" target="stafrm">
        <input name="dopost" type="hidden" value="make"/>
        <tr>
            <td background='images/tbg.gif' colspan="2" height="28">
                <table border="0" cellpadding="0" cellspacing="0" width="98%">
                    <tr>
                        <td height="18" style="padding-left:10px;" width="30%"><strong>全局标记测试：</strong></td>
                        <td align="right" width="70%">&nbsp;</td>
                    </tr>
                </table>
            </td>
        </tr>
        <tr>
            <td bgcolor="#FFFFFF" colspan="2" valign="top">
                　　全局标记指的是应用在网站主页、单独页面、频道封面使用的单独的模板标记，在列表或文章模板中，一般只允许调用channel、arclist标记（hotart、coolart、imglist等都是这个标记延伸出来的标记），但是环境变量限定为文章或列表所在的栏目，如果您要测试的标记是在列表或文章中使用，请指定环境变量（栏目ＩＤ）。<br/>
                　　各标记的具体含义和用途，请在<a href="http://www.dedecms.com/archives/templethelp/help/index.htm" target="_blank"><u>模板标记参考</u></a>一章查阅。
            </td>
        </tr>
        <tr>
            <td bgcolor="#FFFFFF" colspan="2" valign="top">输入要测试的局部代码：</td>
        </tr>
        <tr>
            <td bgcolor="#FFFFFF" colspan="2" height="62">
                <textarea id="partcode" name="partcode" style="width:99%;height:120px"></textarea>
            </td>
        </tr>
        <tr>
            <td bgcolor="#FFFFFF" height="20" valign="top" width="103">环境变量：</td>
            <td bgcolor="#FFFFFF" height="20" valign="top" width="865">&nbsp;
                <?php
       if(empty($cid)) $cid="0";
       $tl = new TypeLink($cid);
       $typeOptions = $tl->GetOptionArray($cid,$admin_catalogs,0);
                echo "<select name='typeid' style='width:300'>\r\n";
                    if($cid=="0") echo "
                    <option selected value='0'>不使用环境ID...</option>
                    \r\n";
                    echo $typeOptions;
                    echo "</select>";
                ?>
            </td>
        </tr>
        <tr>
            <td align="center" bgcolor="#FAFAF1" colspan="2" height="31">
                <input class="coolbg np" name="Submit" type="submit" value="提交测试"/>
            </td>
        </tr>
    </form>
    <tr bgcolor="#F9FCEF">
        <td colspan="2" height="20">
            <table width="100%">
                <tr>
                    <td width="74%">进行状态：</td>
                    <td align="right" width="26%">
                        <script language='javascript'>
                            function ResizeDiv(obj, ty) {
                                if (ty == "+") document.all[obj].style.pixelHeight += 50;
                                else if (document.all[obj].style.pixelHeight > 80) document.all[obj].style.pixelHeight = document.all[obj].style.pixelHeight + 50;
                            }
                        </script>
                        [<a href='#' onClick="ResizeDiv('mdv','+');">增大</a>] [<a href='#'
                                                                                 onClick="ResizeDiv('mdv','-');">缩小</a>]
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr bgcolor="#FFFFFF">
        <td colspan="2" id="mtd">
            <div id='mdv' style='width:100%;height:300;'>
                <iframe frameborder="0" height="100%" id="stafrm" name="stafrm" width="100%"></iframe>
            </div>
        </td>
    </tr>
</table>
<script type="text/javascript">
    var editor = CodeMirror.fromTextArea(document.getElementById('partcode'), {
        lineNumbers: true,
        lineWrapping: true,
        mode: 'text/html'
    });
</script>
</body>
</html>
